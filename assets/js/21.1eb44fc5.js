(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{920:function(a,t,s){"use strict";s.r(t);var r=s(40),n=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"_1-介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍"}},[a._v("#")]),a._v(" 1. 介绍")]),a._v(" "),s("p",[a._v("cnchar-voice, cnchar-draw, cnchar-explain 由于使用了大量的在线词典和资源")]),a._v(" "),s("p",[a._v("所以没有跟随npm包一起下载到本地，而是使用cdn方式动态加载")]),a._v(" "),s("p",[a._v("cnchar 在 3.1.0 版本新增了 "),s("a",{attrs:{href:"https://github.com/cn-char/cnchar-data",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnchar-data"),s("OutboundLink")],1),a._v(" 用于帮助用于单独下载数据仓库，以支持离线使用和自定义部署。")]),a._v(" "),s("p",[a._v("具体使用请参考 "),s("a",{attrs:{href:"https://github.com/cn-char/cnchar-data/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnchar-data"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("另外 voice, draw, explain 三个仓库也支持独立 setResourceBase")]),a._v(" "),s("p",[a._v("具体请参考 "),s("a",{attrs:{href:"https://github.com/theajack/cnchar/tree/master/src/cnchar-types",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnchar-types"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"_2-cnchar-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-cnchar-data"}},[a._v("#")]),a._v(" 2. cnchar-data")]),a._v(" "),s("p",[a._v("该库为"),s("a",{attrs:{href:"https://www.github.com/theajack/cnchar",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnchar"),s("OutboundLink")],1),a._v("的资源cdn库")]),a._v(" "),s("p",[a._v("也可以用于支持离线化使用cnchar部分在线资源，及生产环境部署到自己的服务器中")]),a._v(" "),s("h3",{attrs:{id:"_2-1-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装"}},[a._v("#")]),a._v(" 2.1. 安装")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm i cnchar-data -D\n")])])]),s("h3",{attrs:{id:"_2-2-运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-运行"}},[a._v("#")]),a._v(" 2.2. 运行")]),a._v(" "),s("p",[a._v("首先配置 package.json scripts")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n    ...,\n    "scripts": {\n        "cnchar-serve": "cnchar-serve 3002",\n        "cnchar-prod": "cnchar-serve-prod"\n    },\n}\n')])])]),s("p",[a._v("运行一个本地的服务，端口可以自定义")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run cnchar-serve\n")])])]),s("p",[a._v("运行成功之后可以访问一下链接查看是否正确运行")]),a._v(" "),s("p",[s("a",{attrs:{href:"http://localhost:3002/draw/%E4%B8%80.json",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:3002/draw/一.json"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"_2-3-开发环境使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-开发环境使用"}},[a._v("#")]),a._v(" 2.3. 开发环境使用")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" cnchar "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cnchar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncnchar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setResourceBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'http://localhost:{port}/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-4-生产环境使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-生产环境使用"}},[a._v("#")]),a._v(" 2.4. 生产环境使用")]),a._v(" "),s("p",[a._v("如需将资源部署到您的生产环境服务器")]),a._v(" "),s("p",[a._v("请执行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run cnchar-prod\n")])])]),s("p",[a._v("会在项目根目录生成cnchar-data目录, 将改文件夹放置在您的http服务器中")]),a._v(" "),s("p",[a._v("假设可访问路径为 "),s("code",[a._v("https://www.xxx.com/cnchar-data/")])]),a._v(" "),s("p",[a._v("则对cnchar设置如下")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" cnchar "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cnchar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncnchar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setResourceBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://www.xxx.com/cnchar-data/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-5-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-api"}},[a._v("#")]),a._v(" 2.5. api")]),a._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cnchar-data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" words"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    dict"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("serve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    words"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    serve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("serve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cnchar-data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("serve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cnchar-data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-6-或者可以全局安装使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-或者可以全局安装使用"}},[a._v("#")]),a._v(" 2.6. 或者可以全局安装使用")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm i cnchar-data -g\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cnchar-serve [port]\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cnchar-serve-prod\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);